#!/usr/bin/env luajit

if #arg == 0 then
   error("Usage: ./new_class CLASSNAME")
end

local template = [[local record CLASS
end

function CLASS.new() : CLASS
    local self : CLASS = setmetatable({}, { __index = CLASS })
    return self
end

return CLASS]]

local r = template:gsub("CLASS", arg[1])
print(r)
